/*****************************
Autor:Karen Mendez
Fecha:15/02/23
******************************/
#include <iostream>
#include <math.h>

using namespace std;

//Estructura para capturar los resultados
struct resultados{
  int tam_Conjunto;
  int max_Conjunto;
  int *conjunto_array;
};

//Funciones
resultados generarVectorAleatorio();
void generarHistograma(resultados arg_generar);

//Funcion principal
int main() {
  //Declaracion de variables
  int menu;
  resultados rts, arg_generar;
  
  //Bucle con do-while para permanecer en el menu
  do{
    //Menu principal
    cout<<endl;
    cout<<"|||||||||MENU PRINCIPAL||||||||||"<<endl;
    cout<<"0. Salir del programa."<<endl;
    cout<<"1. Crear un vector aleatorio con numeros del 0 al 20 de tama単o n."<<endl;
    cout<<"2. Generar Histograma"<<endl;
    cin>>menu;

    //switch
    switch(menu){
      case 1:{
        //Se llama a la funcion para ser utilizada
        rts=generarVectorAleatorio();
        cout<<endl;
        //Se imprime el maximo
        cout<<"Maximo: "<<rts.max_Conjunto;
        cout<<endl;
        //Se imprime el tama単o
        cout<<"Tama単o: "<<rts.tam_Conjunto;
        break;
      }
      case 2:{
          generarHistograma(rts);
        break;
      }
    }
    
  }while(menu!=0);
}

//Ejecucion de la funcion generarVectorAleatorio
resultados generarVectorAleatorio(){
  cout<<endl;
  resultados *rts= new resultados;
  //Se ingresa el tama単o para el vector
  cout<<"Ingresar la cantidad de dias: "<<endl;
  cin>>rts->tam_Conjunto;
  //Generar vector aleatorio
  cout<<"Vector aleatorio: "<<endl;
  //Inicializar el conjunto_array
  rts->conjunto_array=new int [rts->tam_Conjunto];
  //Variable auxiliar para maximo
  int maximo=0;
  //Recorriendo el conjunto_array y asignando valores aleatorios
  for(int i=0;i<rts->tam_Conjunto;i++){
    *(rts->conjunto_array+i)=rand()%20;
    cout<<rts->conjunto_array[i]<<" ";
    //Se consigue el maximo del array
    if(maximo<rts->conjunto_array[i]){
      maximo=rts->conjunto_array[i];
    }
  }
  //maximo es asignado a la variable max_Conjunto
  rts->max_Conjunto=maximo;
  return *rts;
}

void generarHistograma(resultados arg_generar){
  //Se genera un array auxiliar
  int array[20]={0};
  //For para recorrer el array de aleatorios
  for(int i=0;i< arg_generar.tam_Conjunto;i++){
    //Cada que aparece un numero se suma el array auxiliar
    int aux=arg_generar.conjunto_array[i];
    array[aux]++;
  }
  //Se realiza un for para poder imprimir el histograma
  cout<<"Index  Valor  Histograma"<<endl;
  int k=0;
  for(int i=0;i<20;i++){
    if(array[i]!=0){
      cout<<k<<"\t\t"<<i<<"\t\t";
      for(int j=0;j<array[i];j++){
        cout<<"*";
      }
      k++;
      cout<<endl;
    }        
  }
}
